# 1. TCP(Transmission Control Protocol)
## 1-1. TCP 개요
- 인터넷상에서 데이터를 메세지의 형태로 보내기 위해 IP와 함께 사용하는 프로토콜
- 컴퓨터가 다른 컴퓨터와 데이터 통신을 하기 위한 규약(프로토콜)의 일종

## 1-2. TCP 특징
- `연결형 서비스`로 가상 회선 방식을 제공
  - 발신지와 수신지를 연결하여 패킷을 전송하기 위한 논리적 경로를 배정
- 일반적으로 하위 계층에서 사용하는 IP와 엮어서 `TCP/IP`로 표현
- 현존하는 상당수의 네트워크 프로그램이 `데이터 신뢰성` 때문에 TCP를 기반으로 통신
- `3-way handshaking` 과정을 통해 연결을 설정 / `4-way handshaking` 과정을 통해 해제
  
- 신뢰성 보장
  - 연결설정을 통해 전화를 거는 것처럼 상대와 연결을 설정하고 통신을 시작하므로 신뢰성 보장
  - 통신준비가 완료되면 서로 데이터의 송수신이 가능
  - TCP의 헤더파일에는 목적지 주소 / 확인 응답 파일 / 오류 검출 및 복원 / 실제 데이터 등이 포함
  - 헤더 파일의 `확인 응답 파일`이 UDP와의 대표적인 차이점 중 하나로 이를 통해 올바른 송수신이 이루어졌는지 확인함으로써 데이터 신뢰도가 우수
  - 데이터 용량의 증가로 수신속도가 떨어진다는 단점이 존재
- 흐름 제어
  - 데이터를 송신하는 곳과 수신하는 곳의 데이터 처리 속도를 조절하여 수신자의 버퍼 오버플로우를 방지하는 것
  - 해결
    - Stop and Wait : 매번 전송한 패킷에 대해 확인 응답을 받아야만 그 다음 패킷을 전송하는 방법
    - Sliding Window : 수신측에서 설정한 윈도우 크기만큼 송신측에서 확인응답없이 세그먼트를 전송할 수 있게하여 데이터 흐름을 동적으로 조절하는 제어기법
- 혼잡 제어
  - 네트워크 내의 패킷 수가 넘치게 증가하지 않도록 방지하는 것
  - 해결
    - AIMD : 처음에 패킷을 하나씩 보내고 이것이 문제없이 도착하면 window 크기를 1씩 증가시켜가며 전송하는 방법(실패하면 패킷의 보내는 속도를 절반으로 줄인다.)
    - Slow Start : AIMD 방식의 처음 전송 속도를 올리는데 시간이 오래 걸리는 단점을 보완하여 지수 함수 꼴로 증가한다.
    - Fast Retransmit, Fast Recovery
## 1-3. TCP 동작과정
<img width="410" alt="7-2" src="https://user-images.githubusercontent.com/48504392/128394196-ea5d0143-56bf-46ba-9cfe-a7cf68dfd6f8.png">  

#

# 2. UDP(User Datagram Protocol)
## 2-1. UDP 개요
- 데이터를 데이터그램 단위로 처리하는 프로토콜

## 2-2. UDP 특징
- `실시간성`을 중요시하거나 `응답성`을 중요시하는 프로그램은 우수한 속도 때문에 UDP를 기반으로 통신
  - 실시간 스트리밍 / 온라인 게임의 서버-클라이언트 통신 등
- UDP와 TCP를 혼합하여 사용하는 경우도 존재
  - 대표적으로 온라인 게임의 Dedicated server
  - TCP : 유저 인증 / 보안적 감시 체계와 같은 중요 데이터
  - UDP : 응답성이 중요한 유저 입력 및 서버의 반응
- UDP로 데이터를 제공할 경우 다양한 전송률 옵션을 선택하는 형태로 제공
- TCP의 신뢰성 기능이 없는 것과 같으므로 수신 측에서 데이터를 제대로 받았는지 확인 X
- UDP 헤더에는 목적지 주소 / 데이터 순서 / checksum / 실제 데이터만 포함
  - checksum 필드를 통해 최소한의 오류만 검출
  - `확인 응답 파일`이 없으므로 TCP보다 용량이 가볍고 송신 속도가 우수
- 자체적으로 속도 제어를 하는 기능이 부재
  - 한 회선에서 여러 사용자가 UDP를 사용할 경우, 이 소수의 사용자들에 의해 대역폭이 점유당하여 다른 사용자가 통신을 못하는 상황이 발생 가능
  - 따라서 네트워크 관리자 측에서 UDP가 사용 가능한 대역폭을 강제로 제한 or UDP로 일정량 이상의 데이터가 진입 시 자동으로 차단 등의 방법으로 대처
  - 국내 ISP는 UDP 통신에 별다른 제한이 없으나 학교나 회사 등에서는 UDP에 제한을 두는 경우가 존재
- UDP에서도 신뢰성 있는 네트워크를 구축하는 방법이 존재
  - TCP에서 하는 신뢰성 작업을 `프로그래머가 직접 코딩`하여 구현
  - TCP로 사용하면 효율이 떨어지지만 신뢰성을 보장해야할 때 사용
  - 대표적으로 비트토렌트 클라이언트에서 사용하는 μTP가 존재

## 2-3. UDP 동작과정
<img width="410" alt="7-3" src="https://user-images.githubusercontent.com/48504392/128394199-d26e48c3-02e1-4629-9a2a-39578543a5ef.png">

#

# 3. TCP VS UDP
## 3-1. 공통점
- 컴퓨터가 다른 컴퓨터와 데이터 통신을 하기 위한 규약(프로토콜)의 일종
- OSI 참조모델의 전송 계층(Transport Layer)에서 사용하는 규약

## 3-2. 차이점
![7-1](https://user-images.githubusercontent.com/48504392/128393120-77fbc3d7-44bb-4bed-8305-366b411bae92.png)  

#

# Reference
[참조 1](https://velog.io/@soosungp33/CS-Network#-tcp%EC%99%80-udp)  
[참조 2](https://mangkyu.tistory.com/15)  
[참조 3](https://namu.wiki/w/TCP)  
